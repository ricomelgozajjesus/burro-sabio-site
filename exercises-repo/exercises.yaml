version: '0.2'
collection: 'Burro-Sabio Magic Notebooks — Calculus I: Reglas de Derivación'
license: 'CC BY-NC 4.0'

schema:
  id: string (unique)
  topic: e.g., Derivatives
  subtopic: e.g., Product Rule
  difficulty: [easy, medium, hard]
  format: [open-ended, multiple-choice, proof, coding]
  statement_md_es: Markdown + LaTeX (Spanish)
  statement_md_en: Markdown + LaTeX (English, optional)
  answer_type: [symbolic, numeric, text]
  expected_answer: Canonical result in LaTeX or plain text
  accepted_equivalents: list of algebraically equivalent forms (optional)
  rubric:
    total_points: 10
    criteria:
      - name: Proceso
        points: 4
        description: Aplica regla(s) correcta(s) y organiza pasos
      - name: Resultado
        points: 4
        description: Expresión final correcta y simplificada
      - name: Presentación
        points: 2
        description: Notación/LaTeX clara; dominio indicado si aplica
  hints: optional list of progressively revealing hints
  solution_steps_md_es: Worked solution in Spanish (Markdown + LaTeX)
  tags: [keywords]
  autocheck:
    strategy: [symbolic_equivalence, numeric_sampling]
    reference_expr: String form of expected derivative (e.g., '2*x*sin(x)+x^2*cos(x)')
    domain: optional domain restrictions (e.g., 'x != 0')
  media:
    images: []
    datasets: []
  meta:
    author: J. J. Rico + BS Team
    source: BS curated
    created: 2025-10-03
    updated: 2025-10-03

exercises:
  - id: der-prod-001
    topic: Derivatives
    subtopic: Product Rule
    difficulty: easy
    format: open-ended
    statement_md_es: |
      Calcula
      $$\frac{d}{dx} \big[ x^{2} \sin x \big].$$
    statement_md_en: 'Compute $\frac{d}{dx}[x^2 \sin x]$.'
    answer_type: symbolic
    expected_answer: '2x\sin x + x^{2}\cos x'
    accepted_equivalents: ['x^{2}\cos x + 2x\sin x']
    rubric:
      total_points: 10
      criteria:
        - { name: 'Regla del producto', points: 4, description: 'Aplica (fg)'' = f''g + fg''' }
        - { name: 'Derivadas básicas', points: 4, description: 'd/dx[x^2]=2x, d/dx[\sin x]=\cos x' }
        - { name: 'Presentación', points: 2, description: 'Orden/LaTeX' }
    hints:
      - 'Recuerda (fg)'' = f''g + fg'''
      - 'd/dx[x^2]=2x y d/dx[\sin x]=\cos x'
    solution_steps_md_es: |
      Sea $f(x)=x^2$ y $g(x)=\sin x$. Entonces $f'(x)=2x$ y $g'(x)=\cos x$. Por la regla del producto,
      $$(fg)'=f'g+fg' = 2x\sin x + x^2\cos x.$$
    tags: [product-rule, trig]
    autocheck:
      strategy: symbolic_equivalence
      reference_expr: '2*x*sin(x)+x**2*cos(x)'
      domain: all real x
    meta: { author: BS, created: 2025-10-03, updated: 2025-10-03 }

  - id: der-quot-002
    topic: Derivatives
    subtopic: Quotient Rule
    difficulty: medium
    format: open-ended
    statement_md_es: |
      Calcula
      $$\frac{d}{dx} \left[ \frac{3x^{2}-5}{x+1} \right].$$
    statement_md_en: 'Compute $\dfrac{d}{dx}\left[ \frac{3x^2-5}{x+1} \right]$.'
    answer_type: symbolic
    expected_answer: '\dfrac{3x^{2}+6x+5}{(x+1)^{2}}'
    accepted_equivalents: ['\dfrac{6x(x+1)-(3x^{2}-5)}{(x+1)^{2}}']
    rubric:
      total_points: 10
      criteria:
        - { name: 'Regla del cociente', points: 4, description: '(u/v)'' = (u''v - uv'')/v^2' }
        - { name: 'Simplificación', points: 4, description: 'Algebra correcta al combinar términos' }
        - { name: 'Presentación', points: 2, description: 'Notación/LaTeX' }
    hints:
      - 'Identifica $u=3x^2-5$, $v=x+1$'
      - 'Calcula $u''=6x$, $v''=1$ y aplica (u/v)'''
    solution_steps_md_es: |
      Con $u=3x^2-5$, $v=x+1$, se tiene $u'=6x$, $v'=1$. Entonces
      $$(u/v)'=\frac{u'v-uv'}{v^{2}}=\frac{6x(x+1)-(3x^{2}-5)}{(x+1)^2}=\frac{3x^{2}+6x+5}{(x+1)^{2}}.$$
    tags: [quotient-rule, algebra]
    autocheck:
      strategy: symbolic_equivalence
      reference_expr: '(3*x**2+6*x+5)/(x+1)**2'
      domain: 'x != -1'
    meta: { author: BS, created: 2025-10-03, updated: 2025-10-03 }

  - id: der-chain-003
    topic: Derivatives
    subtopic: 'Chain Rule (trig)'
    difficulty: easy
    format: open-ended
    statement_md_es: |
      Calcula
      $$\frac{d}{dx} \big[ \sin(2x^{3}) \big].$$
    statement_md_en: 'Compute $\dfrac{d}{dx}[\sin(2x^3)]$.'
    answer_type: symbolic
    expected_answer: '6x^{2}\cos(2x^{3})'
    accepted_equivalents: ['\cos(2x^{3})\cdot 6x^{2}']
    rubric:
      total_points: 10
      criteria:
        - { name: 'Regla de la cadena', points: 5, description: 'd/dx[sin(u)] = cos(u)u''' }
        - { name: 'Derivada interna', points: 3, description: 'u=2x^3 → u''=6x^2' }
        - { name: 'Presentación', points: 2, description: 'Notación/LaTeX' }
    hints:
      - 'Toma $u=2x^3$'
      - 'd/dx[\sin u]=\cos u\,u'''
    solution_steps_md_es: |
      Sea $u=2x^{3}$, luego $u'=6x^{2}$. Entonces
      $$\frac{d}{dx}[\sin(u)]=\cos(u)u'=6x^{2}\cos(2x^{3}).$$
    tags: [chain-rule, trig]
    autocheck:
      strategy: symbolic_equivalence
      reference_expr: '6*x**2*cos(2*x**3)'
      domain: all real x
    meta: { author: BS, created: 2025-10-03, updated: 2025-10-03 }

  - id: der-chain-004
    topic: Derivatives
    subtopic: 'Chain Rule (power of binomial)'
    difficulty: easy
    format: open-ended
    statement_md_es: |
      Calcula
      $$\frac{d}{dx} \big[ (x^{2}+1)^{5} \big].$$
    statement_md_en: 'Compute $\dfrac{d}{dx}[(x^2+1)^5]$.'
    answer_type: symbolic
    expected_answer: '10x(x^{2}+1)^{4}'
    accepted_equivalents: ['(x^{2}+1)^{4}\cdot 10x']
    rubric:
      total_points: 10
      criteria:
        - { name: 'Regla de la cadena', points: 5, description: 'd/dx[(g(x))^n] = n(g)^{n-1}g''' }
        - { name: 'Derivada interna', points: 3, description: 'g=x^2+1 → g''=2x' }
        - { name: 'Presentación', points: 2, description: 'Notación/LaTeX' }
    hints:
      - 'Usa $g(x)=x^2+1$ y $n=5$'
      - 'Aplica potencia compuesta'
    solution_steps_md_es: |
      Sea $g(x)=x^2+1$ con $g'(x)=2x$. Entonces
      $$\frac{d}{dx}[(g(x))^{5}] = 5(g(x))^{4}g'(x) = 5(x^{2}+1)^{4}\cdot 2x = 10x(x^{2}+1)^{4}.$$
    tags: [chain-rule, power-rule]
    autocheck:
      strategy: symbolic_equivalence
      reference_expr: '10*x*(x**2+1)**4'
      domain: all real x
    meta: { author: BS, created: 2025-10-03, updated: 2025-10-03 }

  - id: der-mixed-005
    topic: Derivatives
    subtopic: 'Mixed: product + exp + log'
    difficulty: medium
    format: open-ended
    statement_md_es: |
      Calcula
      $$\frac{d}{dx} \big[ x e^{x} + \ln(x^{2}) \big]$$
      indicando el **dominio** correspondiente.
    statement_md_en: 'Compute $\dfrac{d}{dx}[x e^x + \ln(x^2)]$ and state the domain.'
    answer_type: symbolic
    expected_answer: 'e^{x}(1+x) + \frac{2}{x}  \;\; (x \neq 0)'
    accepted_equivalents: ['x e^{x} + e^{x} + 2/x']
    rubric:
      total_points: 10
      criteria:
        - { name: 'Producto x e^{x}', points: 4, description: '(xe^{x})'' = e^{x} + xe^{x}' }
        - { name: 'Logaritmo', points: 4, description: '(\ln(x^{2}))'' = 2/x, dominio x \neq 0' }
        - { name: 'Presentación', points: 2, description: 'Notación/LaTeX y dominio' }
    hints:
      - '(fg)'' = f''g + fg'' con f=x, g=e^x'
      - '(\ln u)'' = u''/u con u=x^2'
    solution_steps_md_es: |
      Primero, $(xe^{x})' = e^{x} + xe^{x}$.
      Luego, para $\ln(x^{2})$, sea $u=x^{2}$: $(\ln u)' = u'/u = (2x)/(x^{2}) = 2/x$, con dominio $x \neq 0$.
      Por lo tanto, la derivada total es
      $$e^{x}(1+x) + \frac{2}{x}, \quad x \neq 0.$$
    tags: [product-rule, exponential, logarithm, domain]
    autocheck:
      strategy: symbolic_equivalence
      reference_expr: 'exp(x)*(1+x) + 2/x'
      domain: 'x != 0'
    meta: { author: BS, created: 2025-10-03, updated: 2025-10-03 }

  - id: stewart-3_1-003
    topic: Derivadas
    subtopic: Funciones polinomiales y exponenciales
    difficulty: easy
    format: open-ended
    statement_md_es: |
      Derive la función:
      $$f(x) = 6.5$$
    answer_type: symbolic
    expected_answer: '0'
    rubric:
      total_points: 10
      criteria:
        - {name: Regla de la potencia, points: 5, description: 'Reconoce que la derivada de una constante es 0'}
        - {name: Presentación, points: 5, description: 'Expresión clara y ordenada'}
    hints:
      - 'Recuerde: la derivada de una constante es 0.'
    tags: [textbook, Stewart, 3.1, derivadas]
    autocheck:
      strategy: symbolic_equivalence
      reference_expr: '0'
      domain: 'all real x'
    meta:
      source: 'Stewart Cálculo, Sección 3.1'
      author: 'J. J. Rico (Magic Notebooks código)'
      created: '2025-10-04'
      updated: '2025-10-04'
